{% extends 'PROCERGSVPRCoreBundle::base.html.twig' %}

{% block body %}
{% trans_default_domain 'messages' %}
{# <h2 id="try-header" class="text-center">{{ 'register.title' | trans }}</h2> #}
<div class="center-block text-center">
  <h3 id="how-to-vote">{{ 'register.title' | trans }}</h3>
</div>
<div class="row register-box">
    <div class="col-md-5">
        <h3 class="title vote-doc clearfix">
          <span class="glyphicon glyphicon-user icon visible-xs"></span>
          <span class="text">{{ 'register.login.simple' | trans }}</span>
        </h3>

        {{ form_start(form, {'attr' : {'role' : 'form'}}) }} {{ form_errors(form) }}
        <div class="form-group has-feedback">
            {{ form_label(form.username, 'form.username' | trans, {'label_attr': {'class': 'sr-only'}}) }} {{ form_widget(form.username, {'attr': {'class': 'form-control register-tooltip', 'placeholder' : 'form.username' }}) }} <span class="glyphicon glyphicon-remove form-control-feedback"></span>
            <div class="input-error alert-danger">{{ form_errors(form.username) }}</div>
        </div>
        <div class="form-group has-feedback">
            {{ form_label(form.firstname, 'form.firstname' | trans, {'label_attr': {'class': 'sr-only'}}) }} {{ form_widget(form.firstname, {'attr': {'class': 'form-control', 'placeholder' : 'form.firstname' }}) }} <span class="glyphicon glyphicon-remove form-control-feedback"></span>
            <div class="input-error alert-danger">{{ form_errors(form.firstname) }}</div>
        </div>
        <div class="form-group has-feedback">
            {{ form_label(form.surname, 'form.surname' | trans, {'label_attr': {'class': 'sr-only'}}) }} {{ form_widget(form.surname, {'attr': {'class': 'form-control', 'placeholder' : 'form.surname' }}) }} <span class="glyphicon glyphicon-remove form-control-feedback"></span>
            <div class="input-error alert-danger">{{ form_errors(form.surname) }}</div>
        </div>
        <button type="submit" class="btn btn-success btn-lg btn-block">{{ 'form.submit' | trans }}</button>
        {{ form_end(form) }}
    </div>
    <div class="col-md-2 hidden-xs hidden-sm"><hr class="spacer"></div>
    <div class="col-md-5">
        <h3 class="title clearfix">
          <span class="glyphicon glyphicon-user icon visible-xs"></span>
          <span class="text">{{ 'register.login.lc'|trans }}</span>
        </h3>
        {% for owner in hwi_oauth_resource_owners() %}
          <a href="{{ hwi_oauth_login_url(owner) }}" class="btn btn-success btn-lg btn-block hidden-xs" role="button">{{ 'register.login.lc'|trans }}</a>
        {% endfor %}
        <div class="text-right hidden-xs" id="about-lc-link">
          <a href="" role="button">{% trans %}What is Citizen Login?{% endtrans %}</a>
        </div>
        <div class="alert alert-success alert-dismissable hidden-xs" id="about-lc">
          <img src="https://www.facebook.com/images/fb_icon_325x325.png" height="50"> <img src="http://wp.streetwise.co/wp-content/uploads/2012/06/Larry.png" height="50">
        </div>
    </div>
</div>

<div class="row info-box">
  <div class="col-md-5 ballot">
    <a href="" role="button" class="link-check clearfix">
      <span class="glyphicon glyphicon-list-alt icon"></span>
      <span class="text">{% trans %}Check the ballot of your region{% endtrans %}</span>
    </a>
  </div>
  <div class="col-md-2"></div>
  <div class="col-md-5">
    <a href="" role="button" class="link-check clearfix">
      <span class="glyphicon glyphicon-map-marker icon"></span>
      <span class="text">{% trans %}Check the poll places{% endtrans %}</span>
    </a>
  </div>
</div>
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script type="text/javascript">
var usernameId = '#{{ form.username.vars.id }}';
var messages = {
      '0' : "{{ 'form.username.invalid' | trans }}"
};
</script>

<script type="text/javascript">
$(function () {
      $(usernameId).on('blur', function () {
        if (!this.value.length) {
          return;
        }
        this.value = completaZerosEsquerda(this.value, 12);
        if (validarTitulo(this.value)) {

          } else {
            alert(messages[0]);
            }

        });
    });
</script>

{% endblock %}
